<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Job Listings</title>
    <link rel="stylesheet" href="/styles.css"> <!-- Link to your CSS file -->
</head>

<body>
    <header>
        <h1>Job Listings</h1>
    </header>

    <main>
        <% if (jobs.length> 0) { %>
            <div class="job-list">
                <% jobs.forEach(job=> { %>
                    <div class="job-card">
                        <h2>
                            <%= job.title %>
                        </h2>
                        <p><strong>Description:</strong>
                            <%= job.description %>
                        </p>
                        <p><strong>Location:</strong>
                            <%= job.location %>
                        </p>
                        <p><strong>Mode:</strong>
                            <%= job.mode %>
                        </p>
                        <p><strong>Employer:</strong>
                            <%= job.company?.companyName || 'N/A' %>
                        </p>
                        <p><strong>Company Email:</strong>
                            <%= job.company?.email || 'N/A' %>
                        </p>
                        <p><strong>Expiry Date:</strong>
                            <%= job.expiryDate ? job.expiryDate.toDateString() : 'N/A' %>
                        </p>
                        <p><strong>Salary Range:</strong> $<%= job.salary?.min || 'N/A' %> - $<%= job.salary?.max
                                    || 'N/A' %>
                        </p>
                        <p><strong>Job Type:</strong>
                            <%= job.jobType || 'N/A' %>
                        </p>
                        <p><strong>Experience Required:</strong>
                            <%= job.experience || 'N/A' %>
                        </p>
                        <p><strong>Skills:</strong>
                        <ul>
                            <% job.skills && job.skills.length> 0 ? job.skills.forEach(skill => { %>
                                <li>
                                    <%= skill %>
                                </li>
                                <% }) : %>
                                    <li>N/A</li>
                                    <% } %>
                        </ul>
                        </p>
                        <p><strong>Education:</strong>
                            <%= job.education || 'N/A' %>
                        </p>
                        <p><strong>Company Website:</strong>
                            <% if (job.companyWebsite) { %>
                                <a href="<%= job.companyWebsite %>" target="_blank">
                                    <%= job.companyWebsite %>
                                </a>
                                <% } else { %>
                                    N/A
                                    <% } %>
                        </p>
                        <p><strong>Contact Email:</strong>
                            <%= job.contactEmail || 'N/A' %>
                        </p>
                        <p><strong>Status:</strong>
                            <%= job.status %>
                        </p>
                        <p><strong>Industry:</strong>
                            <%= job.industry || 'N/A' %>
                        </p>
                        <p><strong>Benefits:</strong>
                        <ul>
                            <% job.benefits && job.benefits.length> 0 ? job.benefits.forEach(benefit => { %>
                                <li>
                                    <%= benefit %>
                                </li>
                                <% }) : %>
                                    <li>N/A</li>
                                    <% } %>
                        </ul>
                        </p>
                    </div>
                    <% }) %>
            </div>
            <% } else { %>
                <p>No job postings available.</p>
                <% } %>
    </main>
</body>

</html>